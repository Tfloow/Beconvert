{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-to-r from-blue-500 to-gray-800 text-white py-20">
  <div class="max-w-4xl mx-auto text-center px-4">
    <h1 class="text-4xl sm:text-5xl font-extrabold mb-4" style="font-size: calc(1.5rem + 1vw); line-height: 1.2;">
      {{ _("Convert ") }}
      <span id="rotate-text" class="transition-opacity duration-1000 opacity-100">
        Markdown
      </span>
      {{ _(" to ") }}
      <span id="rotate-text-out" class="transition-opacity duration-1000 opacity-100">
        PowerPoint
      </span>{{ _(" instantly") }}
    </h1>
    <p class="text-lg sm:text-xl mb-8">
      {{ _("Simple, fast, and free. Convert your ") }}
      <span id="rotate-text-desc" class="transition-opacity duration-1000 opacity-100">
        Markdown
      </span>
      {{ _(" files to beautiful ") }}
      <span id="rotate-text-desc-out" class="transition-opacity duration-1000 opacity-100">
        PowerPoint
      </span>
      {{ _(" in just a few clicks.") }}
    </p>
    <a href="/conversion" 
       class="inline-block bg-white text-blue-600 font-bold px-6 py-3 rounded-lg shadow-lg hover:bg-gray-100 transition">
      {{ _("Start Converting") }}
    </a>
  </div>
</section>

<!-- Features Section -->
<section class="py-20 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-3 gap-8 text-center">
        <div class="p-6 bg-white rounded-lg shadow hover:shadow-lg transition">
            <h3 class="text-xl font-bold mb-2">{{ _("Fast & Easy") }}</h3>
            <p>{{ _("Upload your file and get a converted version instantly. No installation required.") }}</p>
        </div>
        <div class="p-6 bg-white rounded-lg shadow hover:shadow-lg transition">
            <h3 class="text-xl font-bold mb-2">{{ _("Secure") }}</h3>
            <p>{{ _("Your files are processed securely and are deleted automatically after conversion.") }}</p>
        </div>
        <div class="p-6 bg-white rounded-lg shadow hover:shadow-lg transition">
            <h3 class="text-xl font-bold mb-2">{{ _("Customizable") }}</h3>
            <p>{{ _("Easily customize the output with your preferred style and formatting.") }}</p>
        </div>
    </div>
</section>

<!-- How it Works Section -->
<section class="py-20 bg-white">
    <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-extrabold mb-12">{{ _("How it Works") }}</h2>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-8">
            <div class="p-6 border rounded-lg hover:shadow-lg transition">
                <span class="text-4xl mb-4 block">ðŸ“„</span>
                <h3 class="font-bold mb-2">{{ _("Select") }}</h3>
                <p>{{ _("Select your desired file type using the selection form.") }}</p>
            </div>
            <div class="p-6 border rounded-lg hover:shadow-lg transition">
                <span class="text-4xl mb-4 block">âš¡</span>
                <h3 class="font-bold mb-2">{{ _("Convert") }}</h3>
                <p>{{ _("Our service quickly converts your selected file to any document format.") }}</p>
            </div>
            <div class="p-6 border rounded-lg hover:shadow-lg transition">
                <span class="text-4xl mb-4 block">ðŸŽ‰</span>
                <h3 class="font-bold mb-2">{{ _("Download") }}</h3>
                <p>{{ _("Download your converted file or preview it directly in your browser.") }}</p>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="bg-gradient-to-r to-blue-600 from-gray-800 text-white py-20">
    <div class="max-w-4xl mx-auto text-center px-4">
        <h2 class="text-3xl sm:text-4xl font-extrabold mb-6">{{ _("Ready to convert your files?") }}</h2>
        <a href="/conversion" class="inline-block bg-white text-blue-600 font-bold px-8 py-4 rounded-lg shadow-lg hover:bg-gray-100 transition">
            {{ _("Start Converting Now") }}
        </a>
    </div>
</section>
{% endblock %}

{% block script %}
<script>
  // Supported services dictionary passed from backend
  const services = {{ SupportedFileTypes.keys() | list | tojson }};
  const services_out = {{ SupportedOutputFileTypes.keys() | list | tojson }};

  const rotateMain = document.getElementById("rotate-text");
  const rotateDesc = document.getElementById("rotate-text-desc");

  const rotateMain_out = document.getElementById("rotate-text-out");
  const rotateDesc_out = document.getElementById("rotate-text-desc-out");

  let index = 0;

  function rotateText() {
    // Fade out
    rotateMain.classList.remove("opacity-100");
    rotateMain.classList.add("opacity-0");

    rotateDesc.classList.remove("opacity-100");
    rotateDesc.classList.add("opacity-0");

    rotateMain_out.classList.remove("opacity-100");
    rotateMain_out.classList.add("opacity-0");

    rotateDesc_out.classList.remove("opacity-100");
    rotateDesc_out.classList.add("opacity-0");

    setTimeout(() => {
      // Update text after fade out
      index = Math.floor(Math.random() * services.length);
      rotateMain.textContent = services[index].padStart(6, 'â €').padEnd(8, 'â €'); // To make animation smoother
      rotateDesc.textContent = services[index].padStart(6, 'â €').padEnd(8, 'â €');

      index = Math.floor(Math.random() * services_out.length);
      rotateMain_out.textContent = services_out[index].padStart(6, 'â €').padEnd(8, 'â €');
      rotateDesc_out.textContent = services_out[index].padStart(6, 'â €').padEnd(8, 'â €');

      // Fade in
      rotateMain.classList.remove("opacity-0");
      rotateMain.classList.add("opacity-100");

      rotateDesc.classList.remove("opacity-0");
      rotateDesc.classList.add("opacity-100");

      rotateMain_out.classList.remove("opacity-0");
      rotateMain_out.classList.add("opacity-100");

      rotateDesc_out.classList.remove("opacity-0");
      rotateDesc_out.classList.add("opacity-100");
    }, 1000); // matches Tailwind duration-1000 (1s fade)
  }
  rotateText();
  // Rotate every 5 seconds
  setInterval(rotateText, 5000);
</script>
{% endblock%}